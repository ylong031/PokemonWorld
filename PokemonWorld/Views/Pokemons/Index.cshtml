@model PokemonWorld.Models.PokemonIndexViewModel

<h2>Pokémon List</h2>

<!-- Filter Form -->
<form method="get" asp-action="Index">
    <div>
        <h4>Filter by Types:</h4>
        @foreach (var type in Model.Types)
        {
            <label>
                <input type="checkbox"
                       name="SelectedTypeIds"
                       value="@type.Id"
                       @(Model.SelectedTypeIds != null && Model.SelectedTypeIds.Contains(type.Id) ? "checked" : "") />
                @type.Name
            </label>
        }
    </div>
    <button type="submit">Apply Filter</button>
</form>

<hr />

<!-- Pokémon Table -->
<table class="table">
    <thead>
        <tr>
            <th>#</th>
            <th>Name</th>
            <th>Generation</th>
            <th>Legendary</th>
            <th>Types</th>
            <th>Stats</th>
            <th>Options</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var p in Model.Pokemons)
        {
            <tr>
                <td>@p.Index</td>
                <td>@p.Name</td>
                <td>@p.GenerationName</td>
                <td>@p.IsLegendary</td>
                <td>
                    @string.Join(", ", p.TypeNames)
                </td>
                <td>
                    @foreach (var stat in p.Stats)
                    {
                        <div>@stat.StatName: @stat.Value</div>
                    }
                </td>
                <td>
                    <a asp-action="Edit" asp-route-id="@p.Id">Edit</a> |
                    <a asp-action="Details" asp-route-id="@p.Id">Details</a> |
                    <a asp-action="Delete" asp-route-id="@p.Id">Delete</a>
                </td>
            </tr>
        }
    </tbody>
</table>
